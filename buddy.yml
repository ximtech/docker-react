- pipeline: "production"
  trigger_mode: "MANUAL"
  ref_name: "master"
  actions:
  - action: "Execute: npm test"
    type: "BUILD"
    docker_image_name: "library/node"
    docker_image_tag: "6"
    execute_commands:
    - "npm install"
    - "npm test"
    setup_commands:
    - "npm install -g gulp grunt-cli"
  - action: "Upload files to winserver.sls"
    type: "FTP"
    input_type: "BUILD_ARTIFACTS"
    local_path: "/"
    login: "pass"
    password: "testtest"
    host: "winserver.sls"
    port: "21"
- pipeline: "build server"
  trigger_mode: "ON_EVERY_PUSH"
  ref_name: "*"
  actions:
  - action: "Execute: npm test"
    type: "BUILD"
    docker_image_name: "library/node"
    docker_image_tag: "6"
    execute_commands:
    - "npm install"
    - "npm test"
    setup_commands:
    - "npm install -g gulp grunt-cli"
